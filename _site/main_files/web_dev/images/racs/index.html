<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="UTF-8">
  <title>Ahmad Badary</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/cayman.css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="shortcut icon" href="/main_files/favicon.ico" />
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/customStyle.css">
  <title> » Ahmad Badary</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</head>

  <body>
    <nav class="main-nav">
    <a href="https://ahmedbadary.github.io/" class="main-nav-logo">
        <img src="/main_files/logo.png">
    </a>
    <ul id="menu-main" class="main-nav-items">
        <li id="menu-item-1859" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-1859">
            <a href="/">Home</a>
        </li>
        <li id="menu-item-2869" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2869">
            <a href="/work">Work</a>
        </li>
        <li id="menu-item-1892" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1892">
            <a href="/projects">Projects</a>
        </li>
        <li id="menu-item-1858" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-1858">
            <a href="/blog">Blog</a>
        </li>
        <li id="menu-item-1862" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1862">
            <a href="/about">About</a>
        </li>
    </ul>
</nav>


<section class="page-header">
  <h1 class="project-name"></h1>
  <h2 class="project-tagline"></h2>
  <a href="https://github.com/AhmedBadary/" class="btn">GitHub</a>
  <a href="https://www.linkedin.com/in/ahmad-badary-656098121/" class="btn">LinkedIn</a>
  <a href=https://www.facebook.com/ahmed.thabet.94 class="btn">Facebook</a>
</section>

<!-- <div>
  <ul class="posts">
    
      <li><span>02 Jan 2014</span> &raquo; <a href="/2014/01/02/introducing-Ahmad/">Introducing Ahmad</a></li>
    
  </ul>
</div> -->


    <section class="main-content">
      
      <!-- <div class="page">
  <h1 class="page-title"></h1>
  <p>a—
layout: NotesPage
title: Reasoning About Code Safety
permalink: /work_files/dev/cs/racs
prevLink: /work_files/dev/cs.html
—</p>

<div class="TOC">
  <h1 id="table-of-contents">Table of Contents</h1>

  <ul class="TOC1">
    <li><a href="#content1">Magic Numbers and Exploitation</a></li>
  </ul>
  <ul class="TOC2">
    <li><a href="#content2">Reasoning About Memory Safety</a></li>
  </ul>
  <ul class="TOC3">
    <li><a href="#content3">Reasoning About Safety</a></li>
  </ul>
  <ul class="TOC4">
    <li><a href="#content4">Making C Safe [Alternatives of the Alternatives]</a></li>
  </ul>
  <ul class="TOC5">
    <li><a href="#content5">Software Security Issues and Testing</a></li>
  </ul>
  <ul class="TOC6">
    <li><a href="#content6">Working Towards Secure Systems</a></li>
  </ul>
  <ul class="TOC6">
    <li><a href="#content6">Approaches for Building Secure Software/Systems (Summary)</a></li>
  </ul>

</div>

<hr />
<hr />

<h2 id="content1">Magic Numbers and Exploitation</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents11">Exploit:</strong></dt>
      <dd>An <strong>Exploit</strong> is a piece of software, a chunk of data, or a sequence of commands that takes advantage of a bug or vulnerability to cause unintended or unanticipated behavior to occur on computer software, hardware, or something electronic.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents12">Magic Numbers:</strong></dt>
      <dd>Exploits are very <em>brittle</em> in nature.
        <blockquote>
          <p>Changing one number in an exploit (program) can render it useless.</p>
          <blockquote>
            <p>Ex. Making sure the exploit runs on the right version.</p>
          </blockquote>
        </blockquote>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents13">EXTRABACON:</strong></dt>
      <dd>Is an NSA exploit for Cisco ASA “Adaptive Security Appliances”.</dd>
      <dd>
        <ul>
          <li>It had an exploitable stack-overflow vulnerability in the SNMP read operation.</li>
          <li>But actual exploitation required two steps:
            <ol>
              <li>Query for the particular version (with an SMTP read).</li>
              <li>Select the proper set of magic numbers for that version.</li>
            </ol>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents14">ETERNALBLUE(screen):</strong></dt>
      <dd>Another NSA exploit that got stolen by the same group (“ShadowBrokers”) which stole EXTRABACON.</dd>
      <dd>
        <ul>
          <li>Eventually it was very robust.
            <ul>
              <li>This was “god mode”:<br />
  remote exploit Windows through SMBv1(Windows File sharing).</li>
            </ul>
          </li>
        </ul>
      </dd>
      <dd>
        <ul>
          <li>But initially it was jokingly called ETERNALBLUESCREEN:
            <ul>
              <li>Because it would crash Windows computers more reliably than exploitation.</li>
            </ul>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content2">Reasoning About Memory Safety</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents21">Memory Safety:</strong></dt>
      <dd>No accesses to undefined memory.
        <blockquote>
          <p>“Undefined” is with respect to the semantics of the programming language.</p>
        </blockquote>
      </dd>
      <dd>Undefined behavior is:<br />
    * <strong>At Minimum:</strong> is a bug.
    * <strong>At Maximum:</strong> is exploitable.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents22">Read Access:</strong></dt>
      <dd>An attacker can read memory that he isn’t supposed to.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents23">Write Access:</strong></dt>
      <dd>An attacker can write memory that she isn’t supposed to.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents24">Execute Access:</strong></dt>
      <dd>An attacker can transfer control flow to memory that they isn’t supposed to.</dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content3">Reasoning About Safety</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents31">How can we have confidence that our code executes in a safe fashion?:</strong></dt>
      <dd><strong>Approach:</strong> build up confidence on a function-by-function / module-by-module basis.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents32">Modularity:</strong></dt>
      <dd><strong>Modularity</strong> provides boundaries for our reasoning.
        <ul>
          <li><strong>Preconditions:</strong> what must hold for function to operate correctly.</li>
          <li><strong>Postconditions:</strong> what holds after function completes.
            <blockquote>
              <p>These basically describe a contract for using the module.</p>
            </blockquote>
          </li>
        </ul>
      </dd>
      <dd>The notion of modularity apply to individual statements.
        <blockquote>
          <p>Statement-1’s postcondition should logically imply Statement-2’s precondition.</p>
        </blockquote>
      </dd>
      <dd><strong>Invariants:</strong> conditions that always hold at a given point in a function.
        <blockquote>
          <p>This particularly matters for loops.</p>
        </blockquote>
      </dd>
    </dl>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents321">How to Prove Memory-Safety?</strong> <br />
    <ol>
      <li>Identify each point of memory access.</li>
      <li>Write down precondition it requires.</li>
      <li>Propagate requirement up to beginning of function.</li>
    </ol>

    <ul>
      <li>Complicated loops might need us to use induction to show invariants:
        <ul>
          <li><em>Base case:</em> first entrance into loop.</li>
          <li><em>Induction:</em> show that postcondition of last statement of loop, plus loop test condition, implies invariant.</li>
        </ul>

        <p><button class="showText" value="show" onclick="showTextPopHide(event);">Example.</button>
  <img src="/main_files/cs/racs/All.png" alt="img" width="87%" hidden="" /></p>
      </li>
    </ul>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents33">Example 1:</strong></dt>
      <dd>
        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">deref</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </dd>
      <dd>
        <ul>
          <li><strong>The Pre-Condition:</strong> requires <code class="language-plaintext highlighter-rouge">p</code> to not be NULL, and <code class="language-plaintext highlighter-rouge">p</code> a valid pointer.<br />
\(\implies \\\)</li>
        </ul>
      </dd>
      <dd>
        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="o">*</span><span class="nf">mymalloc</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">perror</span><span class="p">(</span><span class="s">"malloc"</span><span class="p">);</span> <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="p">}</span>
    <span class="k">return</span> <span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>        </div>
        <ul>
          <li><strong>The Post-Condition:</strong> ensures that the return value is not NULL, and is a valid pointer.</li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents34">Example 2:</strong></dt>
      <dd>
        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span>  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">total</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </dd>
      <dd>
        <ul>
          <li><strong>The Pre-Condition:</strong> requires <code class="language-plaintext highlighter-rouge">p</code> to not be NULL, and <code class="language-plaintext highlighter-rouge">p</code> a valid pointer.</li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents35">Drawbacks:</strong></dt>
      <dd>Unfortunately, the process descrived above is too tedius.<br />
Thus, programers tend to <em>not</em> safe-check their code.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents36">Alternative:</strong></dt>
      <dd>Don’t use C or C++.</dd>
      <dd><strong>Instead,</strong> Use a <em>Safe</em> language:<br />
    Turns “undefined” memory references into an immediate exception or program termination.</dd>
      <dd>Now you simply don’t have to worry about buffer overflows and similar vulnerabilities.</dd>
      <dd><strong>Safe Languages:</strong>  Python - JAVA - GO - RUST - SWIFT</dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content4">Making C Safe [Alternatives of the Alternatives]</h2>
<p class="message">
The goal here is not to pervent all exploitaition. It is to raise the bar for the attackers. <br />
We will aim for defense in depth. Ensuring that undefined behavior leads to crash.
</p>

<ol>
  <li><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents41">Stack Canaries:</strong>
    <ul>
      <li><strong>Goal:</strong> protect the return pointer from being overwritten by a stack buffer.</li>
      <li><strong>Defends-Against:</strong> Stack Over-Flows.</li>
      <li><strong>Method:</strong>
        <ol>
          <li>When the program starts up, create a random value.</li>
          <li>When returning in a function, first check the canary against the stored value.</li>
        </ol>
      </li>
      <li><strong>Drawbacks:</strong> (i.e. How to NOT kill the Canary?)
        <ol>
          <li>Find out what the canary is (e.g. via an <a href="/work_files/dev/cs/ms#bodyContents36">FSV</a>) and then write its value back.</li>
          <li>Write around the canary.</li>
          <li>Overflow the Heap.</li>
        </ol>
      </li>
      <li><strong>Properties:</strong>
        <ol>
          <li>A simple stack overflow doesn’t work anymore.</li>
          <li>Minor and nearly negligible overhead.</li>
          <li>It requires a compiler flag to enable on Linux.</li>
        </ol>
      </li>
    </ul>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents42">Non-Executable Pages:</strong> <br />
    <ul>
      <li><strong>Goal:</strong> make pages in the TLB/Page-Table non-executable.</li>
      <li><strong>Defends-Against:</strong> Injections.</li>
      <li><strong>Method:</strong>
        <ol>
          <li>The TLB/Page-Table has three bits R(ead)/W(rite)/X(cute).</li>
          <li>Maintain W xor X as a global propert.
            <blockquote>
              <p>Now, you can’t write code to the stack or heap.</p>
            </blockquote>
          </li>
        </ol>
      </li>
      <li><strong>Drawbacks:</strong> (i.e. How to NOT kill the Canary?)
        <ol>
          <li>Unfortunately, this is insufficient. There are multiple ways around it.</li>
        </ol>
      </li>
      <li><strong>Properties:</strong>
        <ol>
          <li>A simple stack overflow doesn’t work anymore.</li>
          <li>Effectively no performance impact.</li>
          <li>Does break some code.</li>
          <li>Yet still often not ubiquitous on embedded systems.
            <blockquote>
              <p>e.g. Cisco ASA</p>
            </blockquote>
          </li>
        </ol>
      </li>
      <li><strong>Exploits that best this defending approach:</strong>
        <ul>
          <li><strong>Return into libc:</strong>  set up the stack frame such that the “return” excutes the “excute” command.</li>
          <li><strong>Return Oriented Programming:</strong>
            <ol>
              <li>Given a code library, find a set of fragments (gadgets) that when called together execute the desired function.
                <blockquote>
                  <p>The “ROP Chain”.</p>
                </blockquote>
              </li>
              <li>Inject onto the stack a sequence of saved “return addresses” that will invoke this.</li>
            </ol>
          </li>
        </ul>

        <blockquote>
          <p>Unfortuntely, many such Exploits are available online.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents43">Address Space Layout Randomization:</strong> <br />
    <ul>
      <li><strong>Goal:</strong> Randomize the addresses of the excutables in memory.</li>
      <li><strong>Defends-Against:</strong> Buffer Over-Flows.</li>
      <li><strong>Method:</strong>
        <ol>
          <li>Rather than deterministically allocating the process layout, the OS randomizes the starting base of each excutable section (text, data/BSS, heap, stack).</li>
          <li>Randomly relocate everything (Every library, the start of the stack &amp; heap).</li>
        </ol>
      </li>
      <li><strong>Drawbacks:</strong> (i.e. How to NOT kill the Canary?)
        <ol>
          <li>Find out what the canary is (e.g. via an <a href="/work_files/dev/cs/ms#bodyContents36">FSV</a>) and then write its value back.</li>
          <li>Write around the canary.</li>
          <li>Overflow the Heap.</li>
        </ol>
      </li>
      <li><strong>Properties:</strong>
        <ol>
          <li>When combined with W^X, need an information leak to exploit.
            <blockquote>
              <p>A way to find the address of a function, <br />
   to find the magic offset needed to modify your ROP chain</p>
            </blockquote>
          </li>
          <li>With 64b of space you have lots of entropy, making them harder to exploit.</li>
          <li>It requires a compiler flag to enable on Linux.</li>
        </ol>
      </li>
    </ul>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents44">Defense-in-Depth in Practice:</strong></dt>
      <dd>
        <ul>
          <li><strong>Apple iOS</strong> uses ASLR in the kernel and userspace, W^X whenever possible.</li>
        </ul>
      </dd>
      <dd>
        <blockquote>
          <p>All applications are sandboxed to limit their damage: The kernel is the TCB.</p>
        </blockquote>
      </dd>
      <dd>
        <ul>
          <li><strong>The <a href="https://info.lookout.com/rs/051-ESQ-475/images/pegasus-exploits-technical-details.pdf">“Trident”</a> Exploit:</strong> was used by a spyware vendor, the NSO group, to exploit iPhones of targets.
            <ul>
              <li>To remotely exploit an iPhone, the NSO group’s exploit had to:
                <ol>
                  <li>Exploit Safari with a memory corruption vulnerability.
                    <blockquote>
                      <p>Gains remote code execution within the sandbox: write to a R/W/X page as part of the JavaScript JIT.</p>
                    </blockquote>
                  </li>
                  <li>Exploit a vulnerability to read a section of the kernel stack.
                    <blockquote>
                      <p>Saved return address &amp; knowing which function called breaks the ASLR</p>
                    </blockquote>
                  </li>
                  <li>Exploits a vulnerability in the kernel to enable code execution</li>
                </ol>
              </li>
            </ul>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content5">Software Security Issues and Testing</h2>

<ol>
  <li><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents51">Why does software have vulnerabilities?:</strong> <br />
    <ol>
      <li>Programmers are humans, and humans make mistakes.
        <blockquote>
          <p>Use Tools.</p>
        </blockquote>
      </li>
      <li>Programmers often aren’t security-aware.
        <blockquote>
          <p>Learn about common types of security flaws.</p>
        </blockquote>
      </li>
      <li>Programming languages aren’t designed well for security.
        <blockquote>
          <p>Use better languages (Java, Python, …).</p>
        </blockquote>
      </li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents52">What makes testing a program for security problems difficult?:</strong> <br />
    <ol>
      <li>We need to test for the absence of something.
        <blockquote>
          <p>Security is a negative property!</p>
          <blockquote>
            <p>“nothing bad happens, even in really unusual circumstances”</p>
          </blockquote>
        </blockquote>
      </li>
      <li>Normal inputs rarely stress security-vulnerable code.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents53">How can we test more thoroughly?:</strong> <br />
    <ol>
      <li>Random inputs (fuzz testing)</li>
      <li>Mutation</li>
      <li>Spec-driven design.</li>
    </ol>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents54">How do we tell when we’ve found a problem?:</strong></dt>
      <dd>When we have found a crash or other deviant behavior.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents55">How do we tell when we’ve found a problem?:</strong></dt>
      <dd>This is a very hard task but <em>code-coverage tools</em> can help.</dd>
    </dl>
  </li>
</ol>

<h2 id="content6">Working Towards Secure Systems</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents6" id="bodyContents61">Patching:</strong></dt>
      <dd>Along with securing individual components, we need to <em>keep them up to date</em>.</dd>
      <dd>
        <ul>
          <li><strong>What’s hard about patching?:</strong>
            <ol>
              <li>Can require restarting production systems.</li>
              <li>Can break crucial functionality.</li>
              <li>Management burden:
                <ul>
                  <li>It never stops (the “patch treadmill”).</li>
                  <li>It can be difficult to track just what’s needed where.</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents6" id="bodyContents63">Vulnerability scanning:</strong></dt>
      <dd>Probe your systems/networks for known flaws.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents6" id="bodyContents64">Penetration testing (“pen-testing”):</strong></dt>
      <dd>Pay someone to break into your systems.
    &gt; Provided they take excellent notes about how they did it!</dd>
    </dl>
  </li>
</ol>

<h2 id="content7">Approaches for Building Secure Software/Systems (Summary)</h2>

<ol>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents71">Run-time checks:</strong> <br />
    <ol>
      <li>Automatic bounds-checking (overhead).</li>
      <li>What do you do if check fails?.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents72">Address randomization:</strong> <br />
    <ol>
      <li>Make it hard for attacker to determine layout.</li>
      <li>But they might get lucky / sneaky.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents73">Non-executable stack, heap:</strong> <br />
    <ol>
      <li>May break legacy code.</li>
      <li>See also Return-Oriented Programming (ROP).</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents74">Monitor code for run-time misbehavior:</strong> <br />
    <ol>
      <li>E.g., illegal calling sequences.</li>
      <li>But again: what do you if detected?.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents75">Program in checks / “defensive programming”:</strong> <br />
    <ol>
      <li>E.g., check for null pointer even though sure pointer will be valid.</li>
      <li>Relies on programmer discipline.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents76">Use safe libraries:</strong> <br />
    <ol>
      <li>E.g. strlcpy, not strcpy; snprintf, not sprintf.</li>
      <li>Relies on discipline or tools.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents77">Bug-finding tools:</strong> <br />
    <ol>
      <li>Excellent resource as long as not many false positives.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents78">Code review:</strong> <br />
    <ol>
      <li>Can be very effective but expensive..</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents79">Use a safe language:</strong> <br />
    <ol>
      <li>E.g., Java, Python, C#, Go, Rust.</li>
      <li>Safe = memory safety, strong typing, hardened libraries.</li>
      <li>Installed base? Programmer base? Performance?.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents710">Structure user input:</strong> <br />
    <ol>
      <li>Constrain how untrusted sources can interact with the system.</li>
      <li>Perhaps by implementing a reference monitor.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents711">Contain potential damage:</strong> <br />
    <ol>
      <li>E.g., run system components in jails or VMs.</li>
      <li>Think about privilege separation.</li>
    </ol>
  </li>
</ol>

</div> -->

<p>a—
layout: NotesPage
title: Reasoning About Code Safety
permalink: /work_files/dev/cs/racs
prevLink: /work_files/dev/cs.html
—</p>

<div class="TOC">
  <h1 id="table-of-contents">Table of Contents</h1>

  <ul class="TOC1">
    <li><a href="#content1">Magic Numbers and Exploitation</a></li>
  </ul>
  <ul class="TOC2">
    <li><a href="#content2">Reasoning About Memory Safety</a></li>
  </ul>
  <ul class="TOC3">
    <li><a href="#content3">Reasoning About Safety</a></li>
  </ul>
  <ul class="TOC4">
    <li><a href="#content4">Making C Safe [Alternatives of the Alternatives]</a></li>
  </ul>
  <ul class="TOC5">
    <li><a href="#content5">Software Security Issues and Testing</a></li>
  </ul>
  <ul class="TOC6">
    <li><a href="#content6">Working Towards Secure Systems</a></li>
  </ul>
  <ul class="TOC6">
    <li><a href="#content6">Approaches for Building Secure Software/Systems (Summary)</a></li>
  </ul>

</div>

<hr />
<hr />

<h2 id="content1">Magic Numbers and Exploitation</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents11">Exploit:</strong></dt>
      <dd>An <strong>Exploit</strong> is a piece of software, a chunk of data, or a sequence of commands that takes advantage of a bug or vulnerability to cause unintended or unanticipated behavior to occur on computer software, hardware, or something electronic.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents12">Magic Numbers:</strong></dt>
      <dd>Exploits are very <em>brittle</em> in nature.
        <blockquote>
          <p>Changing one number in an exploit (program) can render it useless.</p>
          <blockquote>
            <p>Ex. Making sure the exploit runs on the right version.</p>
          </blockquote>
        </blockquote>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents13">EXTRABACON:</strong></dt>
      <dd>Is an NSA exploit for Cisco ASA “Adaptive Security Appliances”.</dd>
      <dd>
        <ul>
          <li>It had an exploitable stack-overflow vulnerability in the SNMP read operation.</li>
          <li>But actual exploitation required two steps:
            <ol>
              <li>Query for the particular version (with an SMTP read).</li>
              <li>Select the proper set of magic numbers for that version.</li>
            </ol>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents1" id="bodyContents14">ETERNALBLUE(screen):</strong></dt>
      <dd>Another NSA exploit that got stolen by the same group (“ShadowBrokers”) which stole EXTRABACON.</dd>
      <dd>
        <ul>
          <li>Eventually it was very robust.
            <ul>
              <li>This was “god mode”:<br />
  remote exploit Windows through SMBv1(Windows File sharing).</li>
            </ul>
          </li>
        </ul>
      </dd>
      <dd>
        <ul>
          <li>But initially it was jokingly called ETERNALBLUESCREEN:
            <ul>
              <li>Because it would crash Windows computers more reliably than exploitation.</li>
            </ul>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content2">Reasoning About Memory Safety</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents21">Memory Safety:</strong></dt>
      <dd>No accesses to undefined memory.
        <blockquote>
          <p>“Undefined” is with respect to the semantics of the programming language.</p>
        </blockquote>
      </dd>
      <dd>Undefined behavior is:<br />
    * <strong>At Minimum:</strong> is a bug.
    * <strong>At Maximum:</strong> is exploitable.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents22">Read Access:</strong></dt>
      <dd>An attacker can read memory that he isn’t supposed to.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents23">Write Access:</strong></dt>
      <dd>An attacker can write memory that she isn’t supposed to.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents2" id="bodyContents24">Execute Access:</strong></dt>
      <dd>An attacker can transfer control flow to memory that they isn’t supposed to.</dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content3">Reasoning About Safety</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents31">How can we have confidence that our code executes in a safe fashion?:</strong></dt>
      <dd><strong>Approach:</strong> build up confidence on a function-by-function / module-by-module basis.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents32">Modularity:</strong></dt>
      <dd><strong>Modularity</strong> provides boundaries for our reasoning.
        <ul>
          <li><strong>Preconditions:</strong> what must hold for function to operate correctly.</li>
          <li><strong>Postconditions:</strong> what holds after function completes.
            <blockquote>
              <p>These basically describe a contract for using the module.</p>
            </blockquote>
          </li>
        </ul>
      </dd>
      <dd>The notion of modularity apply to individual statements.
        <blockquote>
          <p>Statement-1’s postcondition should logically imply Statement-2’s precondition.</p>
        </blockquote>
      </dd>
      <dd><strong>Invariants:</strong> conditions that always hold at a given point in a function.
        <blockquote>
          <p>This particularly matters for loops.</p>
        </blockquote>
      </dd>
    </dl>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents321">How to Prove Memory-Safety?</strong> <br />
    <ol>
      <li>Identify each point of memory access.</li>
      <li>Write down precondition it requires.</li>
      <li>Propagate requirement up to beginning of function.</li>
    </ol>

    <ul>
      <li>Complicated loops might need us to use induction to show invariants:
        <ul>
          <li><em>Base case:</em> first entrance into loop.</li>
          <li><em>Induction:</em> show that postcondition of last statement of loop, plus loop test condition, implies invariant.</li>
        </ul>

        <p><button class="showText" value="show" onclick="showTextPopHide(event);">Example.</button>
  <img src="/main_files/cs/racs/All.png" alt="img" width="87%" hidden="" /></p>
      </li>
    </ul>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents33">Example 1:</strong></dt>
      <dd>
        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">deref</span><span class="p">(</span><span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </dd>
      <dd>
        <ul>
          <li><strong>The Pre-Condition:</strong> requires <code class="language-plaintext highlighter-rouge">p</code> to not be NULL, and <code class="language-plaintext highlighter-rouge">p</code> a valid pointer.<br />
\(\implies \\\)</li>
        </ul>
      </dd>
      <dd>
        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="o">*</span><span class="nf">mymalloc</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">)</span> <span class="p">{</span> <span class="n">perror</span><span class="p">(</span><span class="s">"malloc"</span><span class="p">);</span> <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="p">}</span>
    <span class="k">return</span> <span class="n">p</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>        </div>
        <ul>
          <li><strong>The Post-Condition:</strong> ensures that the return value is not NULL, and is a valid pointer.</li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents34">Example 2:</strong></dt>
      <dd>
        <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">[],</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span>  <span class="p">{</span>
    <span class="kt">int</span> <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">total</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>        </div>
      </dd>
      <dd>
        <ul>
          <li><strong>The Pre-Condition:</strong> requires <code class="language-plaintext highlighter-rouge">p</code> to not be NULL, and <code class="language-plaintext highlighter-rouge">p</code> a valid pointer.</li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents35">Drawbacks:</strong></dt>
      <dd>Unfortunately, the process descrived above is too tedius.<br />
Thus, programers tend to <em>not</em> safe-check their code.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents3" id="bodyContents36">Alternative:</strong></dt>
      <dd>Don’t use C or C++.</dd>
      <dd><strong>Instead,</strong> Use a <em>Safe</em> language:<br />
    Turns “undefined” memory references into an immediate exception or program termination.</dd>
      <dd>Now you simply don’t have to worry about buffer overflows and similar vulnerabilities.</dd>
      <dd><strong>Safe Languages:</strong>  Python - JAVA - GO - RUST - SWIFT</dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content4">Making C Safe [Alternatives of the Alternatives]</h2>
<p class="message">
The goal here is not to pervent all exploitaition. It is to raise the bar for the attackers. <br />
We will aim for defense in depth. Ensuring that undefined behavior leads to crash.
</p>

<ol>
  <li><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents41">Stack Canaries:</strong>
    <ul>
      <li><strong>Goal:</strong> protect the return pointer from being overwritten by a stack buffer.</li>
      <li><strong>Defends-Against:</strong> Stack Over-Flows.</li>
      <li><strong>Method:</strong>
        <ol>
          <li>When the program starts up, create a random value.</li>
          <li>When returning in a function, first check the canary against the stored value.</li>
        </ol>
      </li>
      <li><strong>Drawbacks:</strong> (i.e. How to NOT kill the Canary?)
        <ol>
          <li>Find out what the canary is (e.g. via an <a href="/work_files/dev/cs/ms#bodyContents36">FSV</a>) and then write its value back.</li>
          <li>Write around the canary.</li>
          <li>Overflow the Heap.</li>
        </ol>
      </li>
      <li><strong>Properties:</strong>
        <ol>
          <li>A simple stack overflow doesn’t work anymore.</li>
          <li>Minor and nearly negligible overhead.</li>
          <li>It requires a compiler flag to enable on Linux.</li>
        </ol>
      </li>
    </ul>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents42">Non-Executable Pages:</strong> <br />
    <ul>
      <li><strong>Goal:</strong> make pages in the TLB/Page-Table non-executable.</li>
      <li><strong>Defends-Against:</strong> Injections.</li>
      <li><strong>Method:</strong>
        <ol>
          <li>The TLB/Page-Table has three bits R(ead)/W(rite)/X(cute).</li>
          <li>Maintain W xor X as a global propert.
            <blockquote>
              <p>Now, you can’t write code to the stack or heap.</p>
            </blockquote>
          </li>
        </ol>
      </li>
      <li><strong>Drawbacks:</strong> (i.e. How to NOT kill the Canary?)
        <ol>
          <li>Unfortunately, this is insufficient. There are multiple ways around it.</li>
        </ol>
      </li>
      <li><strong>Properties:</strong>
        <ol>
          <li>A simple stack overflow doesn’t work anymore.</li>
          <li>Effectively no performance impact.</li>
          <li>Does break some code.</li>
          <li>Yet still often not ubiquitous on embedded systems.
            <blockquote>
              <p>e.g. Cisco ASA</p>
            </blockquote>
          </li>
        </ol>
      </li>
      <li><strong>Exploits that best this defending approach:</strong>
        <ul>
          <li><strong>Return into libc:</strong>  set up the stack frame such that the “return” excutes the “excute” command.</li>
          <li><strong>Return Oriented Programming:</strong>
            <ol>
              <li>Given a code library, find a set of fragments (gadgets) that when called together execute the desired function.
                <blockquote>
                  <p>The “ROP Chain”.</p>
                </blockquote>
              </li>
              <li>Inject onto the stack a sequence of saved “return addresses” that will invoke this.</li>
            </ol>
          </li>
        </ul>

        <blockquote>
          <p>Unfortuntely, many such Exploits are available online.</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents43">Address Space Layout Randomization:</strong> <br />
    <ul>
      <li><strong>Goal:</strong> Randomize the addresses of the excutables in memory.</li>
      <li><strong>Defends-Against:</strong> Buffer Over-Flows.</li>
      <li><strong>Method:</strong>
        <ol>
          <li>Rather than deterministically allocating the process layout, the OS randomizes the starting base of each excutable section (text, data/BSS, heap, stack).</li>
          <li>Randomly relocate everything (Every library, the start of the stack &amp; heap).</li>
        </ol>
      </li>
      <li><strong>Drawbacks:</strong> (i.e. How to NOT kill the Canary?)
        <ol>
          <li>Find out what the canary is (e.g. via an <a href="/work_files/dev/cs/ms#bodyContents36">FSV</a>) and then write its value back.</li>
          <li>Write around the canary.</li>
          <li>Overflow the Heap.</li>
        </ol>
      </li>
      <li><strong>Properties:</strong>
        <ol>
          <li>When combined with W^X, need an information leak to exploit.
            <blockquote>
              <p>A way to find the address of a function, <br />
   to find the magic offset needed to modify your ROP chain</p>
            </blockquote>
          </li>
          <li>With 64b of space you have lots of entropy, making them harder to exploit.</li>
          <li>It requires a compiler flag to enable on Linux.</li>
        </ol>
      </li>
    </ul>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents4" id="bodyContents44">Defense-in-Depth in Practice:</strong></dt>
      <dd>
        <ul>
          <li><strong>Apple iOS</strong> uses ASLR in the kernel and userspace, W^X whenever possible.</li>
        </ul>
      </dd>
      <dd>
        <blockquote>
          <p>All applications are sandboxed to limit their damage: The kernel is the TCB.</p>
        </blockquote>
      </dd>
      <dd>
        <ul>
          <li><strong>The <a href="https://info.lookout.com/rs/051-ESQ-475/images/pegasus-exploits-technical-details.pdf">“Trident”</a> Exploit:</strong> was used by a spyware vendor, the NSO group, to exploit iPhones of targets.
            <ul>
              <li>To remotely exploit an iPhone, the NSO group’s exploit had to:
                <ol>
                  <li>Exploit Safari with a memory corruption vulnerability.
                    <blockquote>
                      <p>Gains remote code execution within the sandbox: write to a R/W/X page as part of the JavaScript JIT.</p>
                    </blockquote>
                  </li>
                  <li>Exploit a vulnerability to read a section of the kernel stack.
                    <blockquote>
                      <p>Saved return address &amp; knowing which function called breaks the ASLR</p>
                    </blockquote>
                  </li>
                  <li>Exploits a vulnerability in the kernel to enable code execution</li>
                </ol>
              </li>
            </ul>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
</ol>

<hr />

<h2 id="content5">Software Security Issues and Testing</h2>

<ol>
  <li><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents51">Why does software have vulnerabilities?:</strong> <br />
    <ol>
      <li>Programmers are humans, and humans make mistakes.
        <blockquote>
          <p>Use Tools.</p>
        </blockquote>
      </li>
      <li>Programmers often aren’t security-aware.
        <blockquote>
          <p>Learn about common types of security flaws.</p>
        </blockquote>
      </li>
      <li>Programming languages aren’t designed well for security.
        <blockquote>
          <p>Use better languages (Java, Python, …).</p>
        </blockquote>
      </li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents52">What makes testing a program for security problems difficult?:</strong> <br />
    <ol>
      <li>We need to test for the absence of something.
        <blockquote>
          <p>Security is a negative property!</p>
          <blockquote>
            <p>“nothing bad happens, even in really unusual circumstances”</p>
          </blockquote>
        </blockquote>
      </li>
      <li>Normal inputs rarely stress security-vulnerable code.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents53">How can we test more thoroughly?:</strong> <br />
    <ol>
      <li>Random inputs (fuzz testing)</li>
      <li>Mutation</li>
      <li>Spec-driven design.</li>
    </ol>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents54">How do we tell when we’ve found a problem?:</strong></dt>
      <dd>When we have found a crash or other deviant behavior.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents5" id="bodyContents55">How do we tell when we’ve found a problem?:</strong></dt>
      <dd>This is a very hard task but <em>code-coverage tools</em> can help.</dd>
    </dl>
  </li>
</ol>

<h2 id="content6">Working Towards Secure Systems</h2>

<ol>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents6" id="bodyContents61">Patching:</strong></dt>
      <dd>Along with securing individual components, we need to <em>keep them up to date</em>.</dd>
      <dd>
        <ul>
          <li><strong>What’s hard about patching?:</strong>
            <ol>
              <li>Can require restarting production systems.</li>
              <li>Can break crucial functionality.</li>
              <li>Management burden:
                <ul>
                  <li>It never stops (the “patch treadmill”).</li>
                  <li>It can be difficult to track just what’s needed where.</li>
                </ul>
              </li>
            </ol>
          </li>
        </ul>
      </dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents6" id="bodyContents63">Vulnerability scanning:</strong></dt>
      <dd>Probe your systems/networks for known flaws.</dd>
    </dl>
  </li>
  <li>
    <dl>
      <dt><strong style="color: SteelBlue  " class="bodyContents6" id="bodyContents64">Penetration testing (“pen-testing”):</strong></dt>
      <dd>Pay someone to break into your systems.
    &gt; Provided they take excellent notes about how they did it!</dd>
    </dl>
  </li>
</ol>

<h2 id="content7">Approaches for Building Secure Software/Systems (Summary)</h2>

<ol>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents71">Run-time checks:</strong> <br />
    <ol>
      <li>Automatic bounds-checking (overhead).</li>
      <li>What do you do if check fails?.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents72">Address randomization:</strong> <br />
    <ol>
      <li>Make it hard for attacker to determine layout.</li>
      <li>But they might get lucky / sneaky.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents73">Non-executable stack, heap:</strong> <br />
    <ol>
      <li>May break legacy code.</li>
      <li>See also Return-Oriented Programming (ROP).</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents74">Monitor code for run-time misbehavior:</strong> <br />
    <ol>
      <li>E.g., illegal calling sequences.</li>
      <li>But again: what do you if detected?.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents75">Program in checks / “defensive programming”:</strong> <br />
    <ol>
      <li>E.g., check for null pointer even though sure pointer will be valid.</li>
      <li>Relies on programmer discipline.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents76">Use safe libraries:</strong> <br />
    <ol>
      <li>E.g. strlcpy, not strcpy; snprintf, not sprintf.</li>
      <li>Relies on discipline or tools.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents77">Bug-finding tools:</strong> <br />
    <ol>
      <li>Excellent resource as long as not many false positives.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents78">Code review:</strong> <br />
    <ol>
      <li>Can be very effective but expensive..</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents79">Use a safe language:</strong> <br />
    <ol>
      <li>E.g., Java, Python, C#, Go, Rust.</li>
      <li>Safe = memory safety, strong typing, hardened libraries.</li>
      <li>Installed base? Programmer base? Performance?.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents710">Structure user input:</strong> <br />
    <ol>
      <li>Constrain how untrusted sources can interact with the system.</li>
      <li>Perhaps by implementing a reference monitor.</li>
    </ol>
  </li>
  <li><strong style="color: SteelBlue  " class="bodyContents7" id="bodyContents711">Contain potential damage:</strong> <br />
    <ol>
      <li>E.g., run system components in jails or VMs.</li>
      <li>Think about privilege separation.</li>
    </ol>
  </li>
</ol>


      <footer class="site-footer">
    <!--   <span class="site-footer-owner"><a href="http://localhost:8889">Ahmad Badary</a> is maintained by <a href="https://ahmedbadary.github.io/">Ahmad Badary</a>.</span> -->
    
<!--  -->
    <div class="wrapper">
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
            <span class="site-footer-owner"><a href="http://localhost:8889">Site</a> maintained by <a href="https://ahmedbadary.github.io/">Ahmad Badary</a>.</span>
    <span class="site-footer-credits">
        <p>
            &copy; 2017. All rights reserved.
        </p> 
    </span>
            </div>
            <div class="footer-col footer-col-2">
            <div><p>         </p></div>
            </div>
            <div class="footer-col footer-col-3">
                <ul class="social-media-list">
                    
                      <li>
                        <a href="https://github.com/AhmedBadary">
                          <i class="fa fa-github"></i> GitHub
                        </a>
                      </li>
                    
                    
                      <li>
                        <a href="https://linkedin.com/in/ahmad-badary-656098121/">
                          <i class="fa fa-linkedin"></i> LinkedIn
                        </a>
                      </li>
                    
                    
                      <li>
                        <a href="https://www.facebook.com/ahmed.thabet.94">
                          <i class="fa fa-facebook"></i> Facebook
                        </a>
                      </li>
                    
                </ul>
            </div>
        </div>
    </div>
<!--  -->
</footer>


    </section>

  </body>
</html>
